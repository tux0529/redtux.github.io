<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="robots" content="noindex"><meta><title>分类: 备忘录 - 胡乱折腾</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="胡乱折腾"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="胡乱折腾"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="胡乱折腾"><meta property="og:url" content="http://tux.red/"><meta property="og:site_name" content="胡乱折腾"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://tux.red/img/og_image.png"><meta property="article:author" content="redtux"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="http://tux.red/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://tux.red"},"headline":"胡乱折腾","image":["http://tux.red/img/og_image.png"],"author":{"@type":"Person","name":"redtux"},"publisher":{"@type":"Organization","name":"胡乱折腾","logo":{"@type":"ImageObject","url":"http://tux.red/img/logo.svg"}},"description":""}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/monokai-sublime.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }
          Array
              .from(document.querySelectorAll('.tab-content'))
              .forEach($tab => {
                  $tab.classList.add('is-hidden');
              });
          Array
              .from(document.querySelectorAll('.tabs li'))
              .forEach($tab => {
                  $tab.classList.remove('is-active');
              });
          const $activeTab = document.querySelector(location.hash);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
          const $tabMenu = document.querySelector(`a[href="${location.hash}"]`);
          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.2.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="胡乱折腾" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">主页</a><a class="navbar-item" href="/archives">存档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="GitHub" href="https://github.com/tux0529"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/categories">分类</a></li><li class="is-active"><a href="#" aria-current="page">备忘录</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-11-22T13:08:36.000Z" title="2023/11/22 21:08:36">2023-11-22</time>发表</span><span class="level-item"><time dateTime="2023-11-22T13:12:03.122Z" title="2023/11/22 21:12:03">2023-11-22</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E5%A4%87%E5%BF%98%E5%BD%95/">备忘录</a></span><span class="level-item">1 分钟读完 (大约128个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/11/22/sublime-text-setting/">Sublime text 4的设置</a></h1><div class="content"><ul>
<li>让状态栏显示文档编码： <code>show_encoding</code>设置为true；</li>
<li>在状态栏中显示行结尾形式：<code>&quot;show_line_endings&quot;: true</code>;</li>
<li>在检测不到文档编码时默认以什么编码打开：<code>&quot;fallback_encoding&quot;: &quot;Chinese (GB18030)&quot;</code>;</li>
<li>在查找后不要关闭查找工具条：<code>&quot;close_find_after_find_all&quot;: false</code>;</li>
<li>在替换所有后不要关闭查找工具条：<code>&quot;close_find_after_replace_all&quot;: false</code>;</li>
</ul>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">	<span class="attr">&quot;ignored_packages&quot;</span><span class="punctuation">:</span></span><br><span class="line">	<span class="punctuation">[</span></span><br><span class="line">		<span class="string">&quot;Vintage&quot;</span><span class="punctuation">,</span></span><br><span class="line">	<span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">	<span class="attr">&quot;show_encoding&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">	<span class="attr">&quot;show_line_endings&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">	<span class="attr">&quot;fallback_encoding&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Chinese (GB18030)&quot;</span><span class="punctuation">,</span></span><br><span class="line">	<span class="attr">&quot;close_find_after_find_all&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">	<span class="attr">&quot;close_find_after_replace_all&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-08-18T08:46:25.000Z" title="2023/8/18 16:46:25">2023-08-18</time>发表</span><span class="level-item"><time dateTime="2023-09-20T14:16:13.025Z" title="2023/9/20 22:16:13">2023-09-20</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E5%A4%87%E5%BF%98%E5%BD%95/">备忘录</a></span><span class="level-item">19 分钟读完 (大约2784个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/08/18/ubuntu-server/">Ubuntu Server 常用管理</a></h1><div class="content"><h2 id="1-重启网络服务："><a href="#1-重启网络服务：" class="headerlink" title="1.重启网络服务："></a>1.重启网络服务：</h2><p>   <code>sudo /etc/init.d/networking restart</code></p>
<p>   或者：</p>
<p>   <code>service networking restart</code></p>
<h2 id="2-设置Nameserver（2种方法）："><a href="#2-设置Nameserver（2种方法）：" class="headerlink" title="2.设置Nameserver（2种方法）："></a>2.设置Nameserver（2种方法）：</h2><ul>
<li>修改<code>/etc/resolv.conf</code>，但此文件会被resolvconf重写，故应该修改resolvconf配置文件<code>/etc/resolvconf/resolv.conf.d/head</code>， 增加：<code>nameserver 202.96.209.133</code></li>
<li>修改<code>/etc/network/interfaces</code>，DNS对应的参数名为<code>dns-nameservers</code>，这里设置的优先级比上一种方法高。如果两种方法都设置了，则都会出现在&#x2F;etc&#x2F;resolv.conf中。</li>
</ul>
<h2 id="3-将用户加入-group："><a href="#3-将用户加入-group：" class="headerlink" title="3.将用户加入 group："></a>3.将用户加入 group：</h2><p><code>usermod -G groupname username</code> (这种会把用户从其他组中去掉，只属于该组)<br>如：<code>usermod -G git git</code> (git只属于git组)</p>
<p><code>usermod -a -G groupname username</code> (把用户添加到这个组，之前所属组不影响)<br>如：<code>usermod -a -G www git</code> (git属于之前git组，也属于www组)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">xxx@xxxx:~$ cat /etc/group|grep user1</span><br><span class="line">user1:x:999:user1</span><br><span class="line">xxx@xxxx:~$ cat /etc/group|grep sudo</span><br><span class="line">sudo:x:27:</span><br><span class="line">xxx@xxxx:~$ usermod -G 27 user1</span><br><span class="line">xxx@xxxx:~$ cat /etc/group|grep sudo</span><br><span class="line">sudo:x:27:user1</span><br><span class="line">xxx@xxxx:~$ cat /etc/group|grep user1</span><br><span class="line">user1:x:999:</span><br><span class="line">xxx@xxxx:~$ usermod -a -G 999 user1</span><br><span class="line">xxx@xxxx:~$ cat /etc/group|grep user1</span><br><span class="line">user1:x:999:user1</span><br><span class="line">xxx@xxxx:~$ cat /etc/group|grep sudo</span><br><span class="line">sudo:x:27:user1</span><br></pre></td></tr></table></figure>


<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xxx@xxxx:~$ useradd -r -m -s /bin/bash -G 27 test1 </span><br></pre></td></tr></table></figure>

<h2 id="4-修改时区和时间："><a href="#4-修改时区和时间：" class="headerlink" title="4.修改时区和时间："></a>4.修改时区和时间：</h2><ol>
<li><p>首先查看时区：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">redtux@redtux-PC:~$ date -R</span><br><span class="line">Thu, 31 May 2018 00:03:22 +0800</span><br></pre></td></tr></table></figure></li>
<li><p>修改时区，执行sudo tzselect，按提示选择时区.</p>
</li>
<li><p>复制文件到&#x2F;etc目录下 <code>sudo cp /usr/share/zoneinfo/Asia/Shanghai  /etc/localtime</code></p>
</li>
<li><p>更新时间  <code>sudo ntpdate time.windows.com</code></p>
</li>
</ol>
<h2 id="5-搜索文件夹并删除"><a href="#5-搜索文件夹并删除" class="headerlink" title="5.搜索文件夹并删除"></a>5.搜索文件夹并删除</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find ./* -name <span class="string">&quot;@eaDir&quot;</span> -<span class="built_in">type</span> d -print0 | xargs -0 <span class="built_in">rm</span> -rf</span><br></pre></td></tr></table></figure>

<h2 id="6-gdisk硬盘分区工具"><a href="#6-gdisk硬盘分区工具" class="headerlink" title="6.gdisk硬盘分区工具"></a>6.gdisk硬盘分区工具</h2><p>gdisk是fdisk分区工具的GPT版，MBR分区格式只能支持最大2T的硬盘，大于2T的硬盘必须采用GPT格式，gdisk就是针对GPT格式的升级版。</p>
<p>gdisk</p>
<pre><code>  -l /dev/sdX 查看分区信息
</code></pre>
<p>gdisk</p>
<pre><code>  (?|m) 帮助

  n 建立分区

  d 删除分区

  c 更改分区名字
</code></pre>
<p>　   I 显示分区的详细信息</p>
<pre><code>  p 显示分区信息

  t 转换分区类型

  a 将指定分区设置/取消 活动分区

  l 查看分区类型

  o 重建分区表

  v 验证分区表，显示剩余没有被分区划分的扇区数量

  q 退出不保存，不保存，所有的修改都不生效

  w 退出并保存
</code></pre>
<p>执行<code>gdisk /dev/sdx</code>对sdx硬盘进行编辑，分区表编辑完成保存后，需要重新启动系统，否则系统内核还不知道硬盘分区已经改变了，这个时候你<code>ls /dev/sd*</code>查看到的分区情况还是编辑之前的。或者可以先执行<code>partprobe</code>命令试一下看系统是否检测到硬盘分区的变化。</p>
<h2 id="7-blkid-列出所有分区的uuid"><a href="#7-blkid-列出所有分区的uuid" class="headerlink" title="7.blkid 列出所有分区的uuid"></a>7.blkid 列出所有分区的uuid</h2><p>硬盘根据插拔接口顺序不同可能是sda，也可能是sdb，这样重启后会不能正确的挂载所有的硬盘，为解决这个问题，UUID被文件系统设计者采用，使其可以持久唯一标识一个硬盘分区。其实方式很简单，就是在文件系统的超级块中使用128位存放UUID。这个UUID是在使用文件系统格式化分区时计算生成的，例如Linux下的文件系统工具mkfs就在格式化分区的同时，生成UUID并把它记录到超级块的固定区域中。</p>
<p>使用mkfs对分区格式化后，会显示分区的uuid，如果我们没有记录下来后面怎么查呢，这个就要用到<code>blkid</code>工具了，他可以列出系统中所有硬盘分区的uuid。</p>
<h2 id="8-rsync-远程同步工具"><a href="#8-rsync-远程同步工具" class="headerlink" title="8.rsync 远程同步工具"></a>8.rsync 远程同步工具</h2><p>rsync 是一个常用的 Linux 应用程序，用于文件同步。</p>
<p>它可以在本地计算机与远程计算机之间，或者两个本地目录之间同步文件（但不支持两台远程计算机之间的同步）。它也可以当作文件复制工具，替代cp和mv命令。</p>
<p>它名称里面的r指的是 remote，rsync 其实就是”远程同步”（remote sync）的意思。与其他文件传输工具（如 FTP 或 scp）不同，rsync 的最大特点是会检查发送方和接收方已有的文件，仅传输有变动的部分（默认规则是文件大小或修改时间有变动）。</p>
<p><a target="_blank" rel="noopener" href="https://www.ruanyifeng.com/blog/2020/08/rsync.html">用法参考文章</a></p>
<h3 id="r-参数"><a href="#r-参数" class="headerlink" title="-r 参数"></a>-r 参数</h3><p>本机使用 rsync 命令时，可以作为cp和mv命令的替代方法，将源目录同步到目标目录。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -r source destination</span><br></pre></td></tr></table></figure>

<p>上面命令中，-r表示递归，即包含子目录。注意，-r是必须的，否则 rsync 运行不会成功。source目录表示源目录，destination表示目标目录。</p>
<p>如果有多个文件或目录需要同步，可以写成下面这样。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -r source1 source2 destination</span><br></pre></td></tr></table></figure>

<p>上面命令中，source1、source2都会被同步到destination目录。</p>
<h3 id="a-参数"><a href="#a-参数" class="headerlink" title="-a 参数"></a>-a 参数</h3><p>-a参数可以替代-r，除了可以递归同步以外，还可以同步元信息（比如修改时间、权限等）。由于 rsync 默认使用文件大小和修改时间决定文件是否需要更新，所以-a比-r更有用。下面的用法才是常见的写法。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -a source destination</span><br></pre></td></tr></table></figure>

<p>目标目录destination如果不存在，rsync 会自动创建。执行上面的命令后，源目录source被完整地复制到了目标目录destination下面，即形成了destination&#x2F;source的目录结构。</p>
<p>如果只想同步源目录source里面的内容到目标目录destination，则需要在源目录后面加上斜杠。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -a source/ destination</span><br></pre></td></tr></table></figure>

<p>上面命令执行后，source目录里面的内容，就都被复制到了destination目录里面，并不会在destination下面创建一个source子目录。</p>
<h3 id="n-参数"><a href="#n-参数" class="headerlink" title="-n 参数"></a>-n 参数</h3><p>如果不确定 rsync 执行后会产生什么结果，可以先用-n或–dry-run参数模拟执行的结果。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -anv source/ destination</span><br></pre></td></tr></table></figure>

<p>上面命令中，-n参数模拟命令执行的结果，并不真的执行命令。-v参数则是将结果输出到终端，这样就可以看到哪些内容会被同步。</p>
<h3 id="–delete-参数"><a href="#–delete-参数" class="headerlink" title="–delete 参数"></a>–delete 参数</h3><p>默认情况下，rsync 只确保源目录的所有内容（明确排除的文件除外）都复制到目标目录。它不会使两个目录保持相同，并且不会删除文件。如果要使得目标目录成为源目录的镜像副本，则必须使用–delete参数，这将删除只存在于目标目录、不存在于源目录的文件。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -av --delete source/ destination</span><br></pre></td></tr></table></figure>

<p>上面命令中，–delete参数会使得destination成为source的一个镜像。</p>
<h3 id="–exclude-参数"><a href="#–exclude-参数" class="headerlink" title="–exclude 参数"></a>–exclude 参数</h3><p>有时，我们希望同步时排除某些文件或目录，这时可以用–exclude参数指定排除模式。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -av --exclude=&#x27;*.txt&#x27; source/ destination</span><br><span class="line"># 或者</span><br><span class="line">$ rsync -av --exclude &#x27;*.txt&#x27; source/ destination</span><br></pre></td></tr></table></figure>

<p>上面命令排除了所有 TXT 文件。</p>
<p>注意，rsync 会同步以”点”开头的隐藏文件，如果要排除隐藏文件，可以这样写–exclude&#x3D;”.*”。</p>
<p>如果要排除某个目录里面的所有文件，但不希望排除目录本身，可以写成下面这样。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -av --exclude &#x27;dir1/*&#x27; source/ destination</span><br></pre></td></tr></table></figure>

<p>多个排除模式，可以用多个–exclude参数。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -av --exclude &#x27;file1.txt&#x27; --exclude &#x27;dir1/*&#x27; source/ destination</span><br></pre></td></tr></table></figure>

<p>多个排除模式也可以利用 Bash 的大扩号的扩展功能，只用一个–exclude参数。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -av --exclude=&#123;&#x27;file1.txt&#x27;,&#x27;dir1/*&#x27;&#125; source/ destination</span><br></pre></td></tr></table></figure>

<p>如果排除模式很多，可以将它们写入一个文件，每个模式一行，然后用–exclude-from参数指定这个文件。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -av --exclude-from=&#x27;exclude-file.txt&#x27; source/ destination</span><br></pre></td></tr></table></figure>


<h3 id="–include-参数"><a href="#–include-参数" class="headerlink" title="–include 参数"></a>–include 参数</h3><p>–include参数用来指定必须同步的文件模式，往往与–exclude结合使用。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -av --include=&quot;*.txt&quot; --exclude=&#x27;*&#x27; source/ destination</span><br></pre></td></tr></table></figure>

<p>上面命令指定同步时，排除所有文件，但是会包括 TXT 文件。</p>
<h3 id="增量备份"><a href="#增量备份" class="headerlink" title="增量备份"></a>增量备份</h3><p>rsync 的最大特点就是它可以完成增量备份，也就是默认只复制有变动的文件。</p>
<p>除了源目录与目标目录直接比较，rsync 还支持使用基准目录，即将源目录与基准目录之间变动的部分，同步到目标目录。</p>
<p>具体做法是，第一次同步是全量备份，所有文件在基准目录里面同步一份。以后每一次同步都是增量备份，只同步源目录与基准目录之间有变动的部分，将这部分保存在一个新的目标目录。这个新的目标目录之中，也是包含所有文件，但实际上，只有那些变动过的文件是存在于该目录，其他没有变动的文件都是指向基准目录文件的硬链接。</p>
<p>–link-dest参数用来指定同步时的基准目录。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -a --delete --link-dest /compare/path /source/path /target/path</span><br></pre></td></tr></table></figure>

<p>上面命令中，–link-dest参数指定基准目录&#x2F;compare&#x2F;path，然后源目录&#x2F;source&#x2F;path跟基准目录进行比较，找出变动的文件，将它们拷贝到目标目录&#x2F;target&#x2F;path。那些没变动的文件则会生成硬链接。这个命令的第一次备份时是全量备份，后面就都是增量备份了。</p>
<p>下面是一个脚本示例，备份用户的主目录。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line"># A script to perform incremental backups using rsync</span><br><span class="line"></span><br><span class="line">set -o errexit</span><br><span class="line">set -o nounset</span><br><span class="line">set -o pipefail</span><br><span class="line"></span><br><span class="line">readonly SOURCE_DIR=&quot;$&#123;HOME&#125;&quot;</span><br><span class="line">readonly BACKUP_DIR=&quot;/mnt/data/backups&quot;</span><br><span class="line">readonly DATETIME=&quot;$(date &#x27;+%Y-%m-%d_%H:%M:%S&#x27;)&quot;</span><br><span class="line">readonly BACKUP_PATH=&quot;$&#123;BACKUP_DIR&#125;/$&#123;DATETIME&#125;&quot;</span><br><span class="line">readonly LATEST_LINK=&quot;$&#123;BACKUP_DIR&#125;/latest&quot;</span><br><span class="line"></span><br><span class="line">mkdir -p &quot;$&#123;BACKUP_DIR&#125;&quot;</span><br><span class="line"></span><br><span class="line">rsync -av --delete \</span><br><span class="line">  &quot;$&#123;SOURCE_DIR&#125;/&quot; \</span><br><span class="line">  --link-dest &quot;$&#123;LATEST_LINK&#125;&quot; \</span><br><span class="line">  --exclude=&quot;.cache&quot; \</span><br><span class="line">  &quot;$&#123;BACKUP_PATH&#125;&quot;</span><br><span class="line"></span><br><span class="line">rm -rf &quot;$&#123;LATEST_LINK&#125;&quot;</span><br><span class="line">ln -s &quot;$&#123;BACKUP_PATH&#125;&quot; &quot;$&#123;LATEST_LINK&#125;&quot;</span><br></pre></td></tr></table></figure>

<p>上面脚本中，每一次同步都会生成一个新目录<code>$&#123;BACKUP_DIR&#125;/$&#123;DATETIME&#125;</code>，并将软链接<code>$&#123;BACKUP_DIR&#125;/latest</code>指向这个目录。下一次备份时，就将<code>$&#123;BACKUP_DIR&#125;/latest</code>作为基准目录，生成新的备份目录。最后，再将软链接<code>$&#123;BACKUP_DIR&#125;/latest</code>指向新的备份目录。</p>
<h2 id="Udisk-管理工具"><a href="#Udisk-管理工具" class="headerlink" title="Udisk 管理工具"></a>Udisk 管理工具</h2><p>udisksctl: The udisks command line tool</p>
<p>udisksctl status<br>udisksctl info {–object-path OBJECT | –block-device DEVICE | –drive DRIVE}<br>udisksctl mount {–object-path OBJECT | –block-device DEVICE} [–filesystem-type TYPE] [–options OPTIONS…] [–no-user-interaction]<br>udisksctl unmount {–object-path OBJECT | –block-device DEVICE} [–force] [–no-user-interaction]<br>udisksctl unlock {–object-path OBJECT | –block-device DEVICE} [–no-user-interaction] [–key-file PATH] [–read-only]<br>udisksctl lock {–object-path OBJECT | –block-device DEVICE} [–no-user-interaction]<br>udisksctl loop-setup –file PATH [–read-only] [–offset OFFSET] [–size SIZE] [–no-user-interaction]<br>udisksctl loop-delete {–object-path OBJECT | –block-device DEVICE} [–no-user-interaction]<br>udisksctl power-off {–object-path OBJECT | –block-device DEVICE} [–no-user-interaction]<br>udisksctl smart-simulate –file PATH {–object-path OBJECT | –block-device DEVICE} [–no-user-interaction]<br>udisksctl monitor<br>udisksctl dump<br>udisksctl help</p>
<p><a target="_blank" rel="noopener" href="https://www.systutorials.com/docs/linux/man/1-udisksctl/">命令手册</a></p>
<p>完全卸载U盘</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">udisksctl power-off --block-device /dev/sdx</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-08-14T04:10:00.000Z" title="2023/8/14 12:10:00">2023-08-14</time>发表</span><span class="level-item"><time dateTime="2023-08-21T14:08:46.407Z" title="2023/8/21 22:08:46">2023-08-21</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E5%A4%87%E5%BF%98%E5%BD%95/">备忘录</a></span><span class="level-item">11 分钟读完 (大约1719个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/08/14/windows-office-kms/">Microsoft Office及Windows的KMS激活步骤</a></h1><div class="content"><h2 id="Docker-部署KMS-服务器"><a href="#Docker-部署KMS-服务器" class="headerlink" title="Docker 部署KMS 服务器"></a>Docker 部署KMS 服务器</h2><p>Docker镜像地址： <a target="_blank" rel="noopener" href="https://hub.docker.com/r/mogeko/vlmcsd">https://hub.docker.com/r/mogeko/vlmcsd</a></p>
<p>此程序的单独地址： <a target="_blank" rel="noopener" href="https://github.com/Wind4/vlmcsd">https://github.com/Wind4/vlmcsd</a></p>
<p>部署KMS服务器，使用Docker ，端口为 1688。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># docker run -d -p 1688:1688 --restart=always --name vlmcsd mikolatero/vlmcsd</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">docker logs vlmcsd</span><br><span class="line"></span><br><span class="line">2019-07-27 08:14:00: Listening on [::]:1688</span><br><span class="line"></span><br><span class="line">2019-07-27 08:14:00: Listening on 0.0.0.0:1688</span><br><span class="line"></span><br><span class="line">2019-07-27 08:14:00: vlmcsd svn1112-2-gf1a3c7f, built 2019-07-26 18:11:51 UTC started successfully</span><br></pre></td></tr></table></figure>

<p>查看日志，确定正常工作。</p>
<h2 id="Microsoft-Office-KMS激活步骤："><a href="#Microsoft-Office-KMS激活步骤：" class="headerlink" title="Microsoft Office KMS激活步骤："></a>Microsoft Office KMS激活步骤：</h2><ol>
<li>以管理员用户打开命令行工具；</li>
<li>切换到office的安装目录，例如office2016安装路径为<code>C:\\Program Files\\Microsoft Office\\Office16</code>；</li>
<li>设置kms服务器：<code>cscript ospp.vbs /sethst:[kms.03k.org](http://kms.03k.org)</code>，返回信息；</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">---Processing--------------------------</span><br><span class="line"></span><br><span class="line">---------------------------------------</span><br><span class="line"></span><br><span class="line">Successfully applied setting.</span><br><span class="line"></span><br><span class="line">---------------------------------------</span><br><span class="line"></span><br><span class="line">---Exiting-----------------------------</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="4">
<li>激活office：`cscript ospp.vbs &#x2F;act`。</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">---Processing--------------------------</span><br><span class="line"></span><br><span class="line">---------------------------------------</span><br><span class="line"></span><br><span class="line">Installed product key detected - attempting to activate the following product:</span><br><span class="line"></span><br><span class="line">SKU ID: d450596f-894d-49e0-966a-fd39ed4c4c64</span><br><span class="line"></span><br><span class="line">LICENSE NAME: Office 16, Office16ProPlusVL_KMS_Client edition</span><br><span class="line"></span><br><span class="line">LICENSE DESCRIPTION: Office 16, VOLUME_KMSCLIENT channel</span><br><span class="line"></span><br><span class="line">Last 5 characters of installed product key: WFG99</span><br><span class="line"></span><br><span class="line">&lt;Product activation successful&gt;</span><br><span class="line"></span><br><span class="line">---------------------------------------</span><br><span class="line"></span><br><span class="line">---------------------------------------</span><br><span class="line"></span><br><span class="line">---Exiting-----------------------------</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="Microsoft-Windows-KMS激活步骤："><a href="#Microsoft-Windows-KMS激活步骤：" class="headerlink" title="Microsoft Windows KMS激活步骤："></a>Microsoft Windows KMS激活步骤：</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 卸载已安装密钥</span><br><span class="line">slmgr.vbs /upk</span><br><span class="line"></span><br><span class="line"># 安装需要激活的版本密钥</span><br><span class="line"># 这里以专业版为例，Windows 10 和 11 通用</span><br><span class="line"># 更多版本的系统密钥见下文</span><br><span class="line">slmgr /ipk W269N-WFGWX-YVC9B-4J6C9-T83GX</span><br><span class="line"></span><br><span class="line"># 设置 KMS 激活服务器</span><br><span class="line"># 请将 192.168.7.186 替换为实际 KMS 服务器网址或 IP</span><br><span class="line">slmgr /skms 192.168.7.186</span><br><span class="line"></span><br><span class="line"># 激活</span><br><span class="line">slmgr /ato</span><br></pre></td></tr></table></figure>


<h2 id="所有WINDOWS版本的GVLK密钥对照表"><a href="#所有WINDOWS版本的GVLK密钥对照表" class="headerlink" title="所有WINDOWS版本的GVLK密钥对照表"></a>所有WINDOWS版本的GVLK密钥对照表</h2><p>最新的参看<a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/get-started/kms-client-activation-keys">微软官方网站</a></p>
<p>GVLK密钥是专门用于KMS激活的密钥，如果想使用KMS激活，那么必须先将系统的KEY替换为对应版本的GVLK密钥。</p>
<p>KMS不仅可以激活Windows 8、Windows 8.1和Windows 7、Windows 10这类我们常用的系统，还可以激活各种版本的Windows Server系统。</p>
<p>以下是GVLK密钥版本对照表，可配合KMS服务器进行使用。</p>
<h3 id="WINDOWS-SERVER-半年频道版本"><a href="#WINDOWS-SERVER-半年频道版本" class="headerlink" title="WINDOWS SERVER 半年频道版本"></a>WINDOWS SERVER 半年频道版本</h3><h4 id="Windows-Server-版本-1909、版本1903-和版本-1809"><a href="#Windows-Server-版本-1909、版本1903-和版本-1809" class="headerlink" title="Windows Server 版本 1909、版本1903 和版本 1809"></a>Windows Server 版本 1909、版本1903 和版本 1809</h4><table>
<thead>
<tr>
<th>操作系统版本</th>
<th>KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td>Windows Server Datacenter</td>
<td>6NMRW-2C8FM-D24W7-TQWMY-CWH2D</td>
</tr>
<tr>
<td>Windows Server Standard</td>
<td>N2KJX-J94YW-TQVFB-DG9YT-724CC</td>
</tr>
</tbody></table>
<h3 id="WINDOWS-SERVER-LTSC-x2F-LTSB-版本"><a href="#WINDOWS-SERVER-LTSC-x2F-LTSB-版本" class="headerlink" title="WINDOWS SERVER LTSC&#x2F;LTSB 版本"></a>WINDOWS SERVER LTSC&#x2F;LTSB 版本</h3><h4 id="Windows-Server-2019"><a href="#Windows-Server-2019" class="headerlink" title="Windows Server 2019"></a>Windows Server 2019</h4><table>
<thead>
<tr>
<th>操作系统版本</th>
<th>KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td>Windows Server 2019 Datacenter</td>
<td>WMDGN-G9PQG-XVVXX-R3X43-63DFG</td>
</tr>
<tr>
<td>Windows Server 2019 Standard</td>
<td>N69G4-B89J2-4G8F4-WWYCC-J464C</td>
</tr>
<tr>
<td>Windows Server 2019 Essentials</td>
<td>WVDHN-86M7X-466P6-VHXV7-YY726</td>
</tr>
</tbody></table>
<h4 id="Windows-Server-2016"><a href="#Windows-Server-2016" class="headerlink" title="Windows Server 2016"></a>Windows Server 2016</h4><table>
<thead>
<tr>
<th>操作系统版本</th>
<th>KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td>Windows Server 2016 Datacenter</td>
<td>CB7KF-BWN84-R7R2Y-793K2-8XDDG</td>
</tr>
<tr>
<td>Windows Server 2016 Standard</td>
<td>WC2BQ-8NRM3-FDDYY-2BFGV-KHKQY</td>
</tr>
<tr>
<td>Windows Server 2016 Essentials</td>
<td>JCKRF-N37P4-C2D82-9YXRT-4M63B</td>
</tr>
</tbody></table>
<h3 id="WINDOWS-10，所有支持的半年频道版本"><a href="#WINDOWS-10，所有支持的半年频道版本" class="headerlink" title="WINDOWS 10，所有支持的半年频道版本"></a>WINDOWS 10，所有支持的半年频道版本</h3><p>有关受支持的版本和服务终止日期的信息，请参阅 Windows 生命周期情况说明书。</p>
<table>
<thead>
<tr>
<th>操作系统版本</th>
<th>KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td>Windows 10 专业版</td>
<td>W269N-WFGWX-YVC9B-4J6C9-T83GX</td>
</tr>
<tr>
<td>Windows 10 专业版 N</td>
<td>MH37W-N47XK-V7XM9-C7227-GCQG9</td>
</tr>
<tr>
<td>Windows 10 专业工作站版</td>
<td>NRG8B-VKK3Q-CXVCJ-9G2XF-6Q84J</td>
</tr>
<tr>
<td>Windows 10 专业工作站版 N</td>
<td>9FNHH-K3HBT-3W4TD-6383H-6XYWF</td>
</tr>
<tr>
<td>Windows 10 专业教育版</td>
<td>6TP4R-GNPTD-KYYHQ-7B7DP-J447Y</td>
</tr>
<tr>
<td>Windows 10 专业教育版 N</td>
<td>YVWGF-BXNMC-HTQYQ-CPQ99-66QFC</td>
</tr>
<tr>
<td>Windows 10 教育版</td>
<td>NW6C2-QMPVW-D7KKK-3GKT6-VCFB2</td>
</tr>
<tr>
<td>Windows 10 教育版 N</td>
<td>2WH4N-8QGBV-H22JP-CT43Q-MDWWJ</td>
</tr>
<tr>
<td>Windows 10 企业版</td>
<td>NPPR9-FWDCX-D2C8J-H872K-2YT43</td>
</tr>
<tr>
<td>Windows 10 企业版 N</td>
<td>DPH2V-TTNVB-4X9Q3-TJR4H-KHJW4</td>
</tr>
<tr>
<td>Windows 10 企业版 G</td>
<td>YYVX9-NTFWV-6MDM3-9PT4T-4M68B</td>
</tr>
<tr>
<td>Windows 10 企业版 G N</td>
<td>44RPN-FTY23-9VTTB-MP9BX-T84FV</td>
</tr>
</tbody></table>
<h3 id="WINDOWS-10-LTSC-x2F-LTSB-版本"><a href="#WINDOWS-10-LTSC-x2F-LTSB-版本" class="headerlink" title="WINDOWS 10 LTSC&#x2F;LTSB 版本"></a>WINDOWS 10 LTSC&#x2F;LTSB 版本</h3><h4 id="Windows-10-LTSC-2019"><a href="#Windows-10-LTSC-2019" class="headerlink" title="Windows 10 LTSC 2019"></a>Windows 10 LTSC 2019</h4><table>
<thead>
<tr>
<th>操作系统版本</th>
<th>KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td>Windows 10 企业版 LTSC 2019</td>
<td>M7XTQ-FN8P6-TTKYV-9D4CC-J462D</td>
</tr>
<tr>
<td>Windows 10 企业版 N LTSC 2019</td>
<td>92NFX-8DJQP-P6BBQ-THF9C-7CG2H</td>
</tr>
</tbody></table>
<h4 id="Windows-10-LTSB-2016"><a href="#Windows-10-LTSB-2016" class="headerlink" title="Windows 10 LTSB 2016"></a>Windows 10 LTSB 2016</h4><table>
<thead>
<tr>
<th>操作系统版本</th>
<th>KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td>Windows 10 企业版 LTSB 2016</td>
<td>DCPHK-NFMTC-H88MJ-PFHPY-QJ4BJ</td>
</tr>
<tr>
<td>Windows 10 企业版 N LTSB 2016</td>
<td>QFFDN-GRT3P-VKWWX-X7T3R-8B639</td>
</tr>
</tbody></table>
<h4 id="Windows-10-LTSB-2015"><a href="#Windows-10-LTSB-2015" class="headerlink" title="Windows 10 LTSB 2015"></a>Windows 10 LTSB 2015</h4><table>
<thead>
<tr>
<th>操作系统版本</th>
<th>KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td>Windows 10 企业版 2015 LTSB</td>
<td>WNMTR-4C88C-JK8YV-HQ7T2-76DF9</td>
</tr>
<tr>
<td>Windows 10 企业版 2015 LTSB N</td>
<td>2F77B-TNFGY-69QQF-B8YKP-D69TJ</td>
</tr>
</tbody></table>
<h3 id="早期版本的-WINDOWS-SERVER"><a href="#早期版本的-WINDOWS-SERVER" class="headerlink" title="早期版本的 WINDOWS SERVER"></a>早期版本的 WINDOWS SERVER</h3><h4 id="Windows-Server-版本-1803"><a href="#Windows-Server-版本-1803" class="headerlink" title="Windows Server 版本 1803"></a>Windows Server 版本 1803</h4><table>
<thead>
<tr>
<th>操作系统版本</th>
<th>KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td>Windows Server Datacenter</td>
<td>2HXDN-KRXHB-GPYC7-YCKFJ-7FVDG</td>
</tr>
<tr>
<td>Windows Server Standard</td>
<td>PTXN8-JFHJM-4WC78-MPCBR-9W4KR</td>
</tr>
</tbody></table>
<h4 id="Windows-Server-版本-1709"><a href="#Windows-Server-版本-1709" class="headerlink" title="Windows Server 版本 1709"></a>Windows Server 版本 1709</h4><table>
<thead>
<tr>
<th>操作系统版本</th>
<th>KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td>Windows Server Datacenter</td>
<td>6Y6KB-N82V8-D8CQV-23MJW-BWTG6</td>
</tr>
<tr>
<td>Windows Server Standard</td>
<td>DPCNP-XQFKJ-BJF7R-FRC8D-GF6G4</td>
</tr>
</tbody></table>
<h4 id="Windows-Server-2012-R2"><a href="#Windows-Server-2012-R2" class="headerlink" title="Windows Server 2012 R2"></a>Windows Server 2012 R2</h4><table>
<thead>
<tr>
<th>操作系统版本</th>
<th>KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td>Windows Server 2012 R2 Server Standard</td>
<td>D2N9P-3P6X9-2R39C-7RTCD-MDVJX</td>
</tr>
<tr>
<td>Windows Server 2012 R2 Datacenter</td>
<td>W3GGN-FT8W3-Y4M27-J84CP-Q3VJ9</td>
</tr>
<tr>
<td>Windows Server 2012 R2 Essentials</td>
<td>KNC87-3J2TX-XB4WP-VCPJV-M4FWM</td>
</tr>
</tbody></table>
<h4 id="Windows-Server-2012"><a href="#Windows-Server-2012" class="headerlink" title="Windows Server 2012"></a>Windows Server 2012</h4><table>
<thead>
<tr>
<th>操作系统版本</th>
<th>KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td>Windows Server 2012</td>
<td>BN3D2-R7TKB-3YPBD-8DRP2-27GG4</td>
</tr>
<tr>
<td>Windows Server 2012 N</td>
<td>8N2M2-HWPGY-7PGT9-HGDD8-GVGGY</td>
</tr>
<tr>
<td>Windows Server 2012 单语言版</td>
<td>2WN2H-YGCQR-KFX6K-CD6TF-84YXQ</td>
</tr>
<tr>
<td>Windows Server 2012 特定国家&#x2F;地区版</td>
<td>4K36P-JN4VD-GDC6V-KDT89-DYFKP</td>
</tr>
<tr>
<td>Windows Server 2012 Server 标准版</td>
<td>XC9B7-NBPP2-83J2H-RHMBY-92BT4</td>
</tr>
<tr>
<td>Windows Server 2012 MultiPoint 标准版</td>
<td>HM7DN-YVMH3-46JC3-XYTG7-CYQJJ</td>
</tr>
<tr>
<td>Windows Server 2012 MultiPoint 高级版</td>
<td>XNH6W-2V9GX-RGJ4K-Y8X6F-QGJ2G</td>
</tr>
<tr>
<td>Windows Server 2012 Datacenter</td>
<td>48HP8-DN98B-MYWDG-T2DCC-8W83P</td>
</tr>
</tbody></table>
<h4 id="Windows-Server-2008-R2"><a href="#Windows-Server-2008-R2" class="headerlink" title="Windows Server 2008 R2"></a>Windows Server 2008 R2</h4><table>
<thead>
<tr>
<th>操作系统版本</th>
<th>KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td>Windows Server 2008 R2 Web 版</td>
<td>6TPJF-RBVHG-WBW2R-86QPH-6RTM4</td>
</tr>
<tr>
<td>Windows Server 2008 R2 HPC 版</td>
<td>TT8MH-CG224-D3D7Q-498W2-9QCTX</td>
</tr>
<tr>
<td>Windows Server 2008 R2 标准版</td>
<td>YC6KT-GKW9T-YTKYR-T4X34-R7VHC</td>
</tr>
<tr>
<td>Windows Server 2008 R2 企业版</td>
<td>489J6-VHDMP-X63PK-3K798-CPX3Y</td>
</tr>
<tr>
<td>Windows Server 2008 R2 Datacenter</td>
<td>74YFP-3QFB3-KQT8W-PMXWJ-7M648</td>
</tr>
<tr>
<td>面向基于 Itanium 系统的 Windows Server 2008 R2</td>
<td>GT63C-RJFQ3-4GMB6-BRFB9-CB83V</td>
</tr>
</tbody></table>
<h4 id="Windows-2008-Server"><a href="#Windows-2008-Server" class="headerlink" title="Windows 2008 Server"></a>Windows 2008 Server</h4><table>
<thead>
<tr>
<th>操作系统版本</th>
<th>KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td>Windows Web Server 2008</td>
<td>WYR28-R7TFJ-3X2YQ-YCY4H-M249D</td>
</tr>
<tr>
<td>Windows Server 2008 标准版</td>
<td>TM24T-X9RMF-VWXK6-X8JC9-BFGM2</td>
</tr>
<tr>
<td>不带 Hyper-V 的 Windows Server 2008 标准版</td>
<td>W7VD6-7JFBR-RX26B-YKQ3Y-6FFFJ</td>
</tr>
<tr>
<td>Windows Server 2008 企业版</td>
<td>YQGMW-MPWTJ-34KDK-48M3W-X4Q6V</td>
</tr>
<tr>
<td>不带 Hyper-V 的 Windows Server 2008 企业版</td>
<td>39BXF-X8Q23-P2WWT-38T2F-G3FPG</td>
</tr>
<tr>
<td>Windows Server 2008 HPC</td>
<td>RCTX3-KWVHP-BR6TB-RB6DM-6X7HP</td>
</tr>
<tr>
<td>Windows Server 2008 Datacenter</td>
<td>7M67G-PC374-GR742-YH8V4-TCBY3</td>
</tr>
<tr>
<td>不带 Hyper-V 的 Windows Server 2008 数据中心版</td>
<td>22XQ2-VRXRG-P8D42-K34TD-G3QQC</td>
</tr>
<tr>
<td>面向基于 Itanium 系统的 Windows Server 2008</td>
<td>4DWFP-JF3DJ-B7DTH-78FJB-PDRHK</td>
</tr>
</tbody></table>
<h3 id="早期版本的-WINDOWS"><a href="#早期版本的-WINDOWS" class="headerlink" title="早期版本的 WINDOWS"></a>早期版本的 WINDOWS</h3><h4 id="Windows-8-1"><a href="#Windows-8-1" class="headerlink" title="Windows 8.1"></a>Windows 8.1</h4><table>
<thead>
<tr>
<th>操作系统版本</th>
<th>KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td>Windows 8.1 专业版</td>
<td>GCRJD-8NW9H-F2CDX-CCM8D-9D6T9</td>
</tr>
<tr>
<td>Windows 8.1 专业版 N</td>
<td>HMCNV-VVBFX-7HMBH-CTY9B-B4FXY</td>
</tr>
<tr>
<td>Windows 8.1 企业版</td>
<td>MHF9N-XY6XB-WVXMC-BTDCT-MKKG7</td>
</tr>
<tr>
<td>Windows 8.1 企业版 N</td>
<td>TT4HM-HN7YT-62K67-RGRQJ-JFFXW</td>
</tr>
</tbody></table>
<h4 id="Windows-8"><a href="#Windows-8" class="headerlink" title="Windows 8"></a>Windows 8</h4><table>
<thead>
<tr>
<th>操作系统版本</th>
<th>KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td>Windows 8 专业版</td>
<td>NG4HW-VH26C-733KW-K6F98-J8CK4</td>
</tr>
<tr>
<td>Windows 8 专业版 N</td>
<td>XCVCF-2NXM9-723PB-MHCB7-2RYQQ</td>
</tr>
<tr>
<td>Windows 8 企业版</td>
<td>32JNW-9KQ84-P47T8-D8GGY-CWCK7</td>
</tr>
<tr>
<td>Windows 8 企业版 N</td>
<td>JMNMF-RHW7P-DMY6X-RF3DR-X2BQT</td>
</tr>
</tbody></table>
<h4 id="Windows-7"><a href="#Windows-7" class="headerlink" title="Windows 7"></a>Windows 7</h4><table>
<thead>
<tr>
<th>操作系统版本</th>
<th>KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td>Windows 7 专业版</td>
<td>FJ82H-XT6CR-J8D7P-XQJJ2-GPDD4</td>
</tr>
<tr>
<td>Windows 7 专业版 N</td>
<td>MRPKT-YTG23-K7D7T-X2JMM-QY7MG</td>
</tr>
<tr>
<td>Windows 7 专业版 E</td>
<td>W82YF-2Q76Y-63HXB-FGJG9-GF7QX</td>
</tr>
<tr>
<td>Windows 7 企业版</td>
<td>33PXH-7Y6KF-2VJC9-XBBR8-HVTHH</td>
</tr>
<tr>
<td>Windows 7 企业版 N</td>
<td>YDRBP-3D83W-TY26F-D46B2-XCKRJ</td>
</tr>
<tr>
<td>Windows 7 企业版 E</td>
<td>C29WB-22CC8-VJ326-GHFJW-H9DH4</td>
</tr>
</tbody></table>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-08-06T14:01:36.000Z" title="2023/8/6 22:01:36">2023-08-06</time>发表</span><span class="level-item"><time dateTime="2023-08-06T14:02:36.193Z" title="2023/8/6 22:02:36">2023-08-06</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E5%A4%87%E5%BF%98%E5%BD%95/">备忘录</a></span><span class="level-item">几秒读完 (大约97个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/08/06/ACE-Editor/">ACE Editor修改自动换号缩进</a></h1><div class="content"><p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/38323427/remove-word-wrap-offset-in-ace-editor">https://stackoverflow.com/questions/38323427/remove-word-wrap-offset-in-ace-editor</a></p>
<p>This is controlled by indentedSoftWrap setting in ace, you can turn it off by running</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">editor.setOption(&quot;indentedSoftWrap&quot;, false);</span><br></pre></td></tr></table></figure>

<p>behaviours setting is completely unrelated and controls automatic insertion of closing brackets and tags.</p>
<p>So your code from the above would become</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> editor = ace.<span class="title function_">edit</span>(<span class="string">&quot;edittext&quot;</span>);</span><br><span class="line">editor.<span class="title function_">setOptions</span>(&#123;</span><br><span class="line">    <span class="attr">maxLines</span>: <span class="title class_">Infinity</span>, <span class="comment">// this is going to be very slow on large documents</span></span><br><span class="line">    <span class="attr">useWrapMode</span>: <span class="literal">true</span>, <span class="comment">// wrap text to view</span></span><br><span class="line">    <span class="attr">indentedSoftWrap</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">behavioursEnabled</span>: <span class="literal">false</span>, <span class="comment">// disable autopairing of brackets and tags</span></span><br><span class="line">    <span class="attr">showLineNumbers</span>: <span class="literal">false</span>, <span class="comment">// hide the gutter</span></span><br><span class="line">    <span class="attr">theme</span>: <span class="string">&quot;ace/theme/xcode&quot;</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-08-06T14:01:36.000Z" title="2023/8/6 22:01:36">2023-08-06</time>发表</span><span class="level-item"><time dateTime="2023-11-10T07:01:04.000Z" title="2023/11/10 15:01:04">2023-11-10</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E5%A4%87%E5%BF%98%E5%BD%95/">备忘录</a></span><span class="level-item">2 分钟读完 (大约319个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/08/06/exsi-help/">Vmware ESXi 6.7常用设置备忘录</a></h1><div class="content"><h2 id="1-ESXi关闭超线程以提高安全性"><a href="#1-ESXi关闭超线程以提高安全性" class="headerlink" title="1. ESXi关闭超线程以提高安全性"></a>1. ESXi关闭超线程以提高安全性</h2><p>在主机-配置-系统-高级系统设置-编辑；搜索参数：<code>VMkernel.Boot.hyperthreadingMitigation</code>，有两项配置，参数配置为<code>true</code> ，即为关闭超线程。</p>
<h2 id="2-虚拟机使用主机物理硬盘"><a href="#2-虚拟机使用主机物理硬盘" class="headerlink" title="2. 虚拟机使用主机物理硬盘"></a>2. 虚拟机使用主机物理硬盘</h2><p>如果是nvme固态硬盘可以在硬件列表中开启直通，然后在虚拟机设置中添加对应的pci设备。</p>
<p>如果是sata硬盘，则需要ssh登录，使用<code>vmkfstools</code>命令创建物理硬盘的映像：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vmkfstools -z /vmfs/devices/disks/&lt;硬盘标识符&gt; /vmfs/volumes/datastore1/&lt;目标RDM磁盘名&gt;.vmdk</span><br></pre></td></tr></table></figure>

<p>硬盘标识符为存储、设备选项卡里面磁盘列表，点击对应磁盘，查看到的硬盘路径，类似：<code>/vmfs/devices/disks/t10.ATA_____WDC__WUH721414ALE6L4____________________QBHB0G1T____________</code>。</p>
<h2 id="3-序列号"><a href="#3-序列号" class="headerlink" title="3. 序列号"></a>3. 序列号</h2><p>企业版参考序列号</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">HV4WC-01087-1ZJ48-031XP-9A843 </span><br><span class="line"></span><br><span class="line">NF0F3-402E3-MZR80-083QP-3CKM2 </span><br><span class="line"></span><br><span class="line">4F6FX-2W197-8ZKZ9-Y31ZM-1C3LZ </span><br><span class="line"></span><br><span class="line">JZ2E9-6D2DK-XZQD0-632E4-33E7Z </span><br><span class="line"></span><br><span class="line">MZ48M-DNK56-ZZJD0-RTCE2-9321X </span><br><span class="line"></span><br><span class="line">0Y0AJ-4P29H-LZV81-59AQ2-C291V </span><br><span class="line"></span><br><span class="line">0A4GL-D7JD7-LZR10-M30G0-A36JF </span><br><span class="line"></span><br><span class="line">4C02A-DP2E2-AZ041-FH9X6-922J6 </span><br></pre></td></tr></table></figure>

<h2 id="4-查看硬盘健康状况"><a href="#4-查看硬盘健康状况" class="headerlink" title="4. 查看硬盘健康状况"></a>4. 查看硬盘健康状况</h2><p>使用系统自带命令<code>esxcli</code></p>
<p>列出硬盘</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">esxcli storage core device list</span><br></pre></td></tr></table></figure>

<p>查看硬盘smart信息</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">esxcli storage core device smart get -d &lt;disk&gt; </span><br></pre></td></tr></table></figure>

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-08-06T11:53:36.000Z" title="2023/8/6 19:53:36">2023-08-06</time>发表</span><span class="level-item"><time dateTime="2023-11-22T08:35:13.000Z" title="2023/11/22 16:35:13">2023-11-22</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E5%A4%87%E5%BF%98%E5%BD%95/">备忘录</a></span><span class="level-item">12 分钟读完 (大约1752个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/08/06/ffmpeg-help/">ffmpeg的常用选项</a></h1><div class="content"><h2 id="map选项"><a href="#map选项" class="headerlink" title="map选项"></a>map选项</h2><p>默认情况下只在输入文件中的每种流里选择第一个流。</p>
<p>需要指定放入输出文件的流就需要使用-map选项。</p>
<p>用法举例：</p>
<p>-map 0<br> From input index #0 (the 1st input) select all streams.</p>
<p>-map 1:a<br> From input index #1 (the 2nd input) select all audio streams.</p>
<p>-map 3:s:4<br> From input index #3 (the 4th input) select subtitle stream index #4 (the fifth subtitle stream)。</p>
<p>-map 0 -map -0:s<br> Will select all streams from input index #0 (the 1st input) except subtitles. </p>
<h2 id="改变视频帧率"><a href="#改变视频帧率" class="headerlink" title="改变视频帧率"></a>改变视频帧率</h2><p>有两种方法可以改变输出文件的视频流帧率：</p>
<ol>
<li>使用 -r 选项</li>
<li>使用 fps滤镜。</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i [inputfile] -r 30 [output]</span><br><span class="line">ffmpeg -i [inputfiel] -filter:v fps=30 [output]</span><br></pre></td></tr></table></figure>

<p>有两种方法可以改变输出文件的视频流帧率：</p>
<h2 id="改变默认音轨"><a href="#改变默认音轨" class="headerlink" title="改变默认音轨"></a>改变默认音轨</h2><p>使用ffmpeg修改默认的音频轨道，先取消第二音轨的默认值，在设置为第一音轨。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i input.mkv -map 0:0 -map 0:1 -map 0:2  -c copy -disposition:a:1 0 -disposition:a:0 default -y output.mp4</span><br></pre></td></tr></table></figure>
<h2 id="改变音频采样率"><a href="#改变音频采样率" class="headerlink" title="改变音频采样率"></a>改变音频采样率</h2><p>-ar 48k 44.1k 96k</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i input.dsf -map 0:0 -c:0 flac -ar:0 96k output.flac</span><br></pre></td></tr></table></figure>

<h2 id="改变音频通道数量"><a href="#改变音频通道数量" class="headerlink" title="改变音频通道数量"></a>改变音频通道数量</h2><p>-ac </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i input.dsf -map 0:0 -c:0 flac -ar:0 96k -ac:0 2 -filter:0 aformat=channel_layouts=stereo output.flac</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i input.dsf -map 0:0 -c:0 flac -ar:0 96k -ac:0 6 -filter:0 aformat=channel_layouts=5.1 output.flac</span><br></pre></td></tr></table></figure>

<h2 id="改变音频位深-bit-depth"><a href="#改变音频位深-bit-depth" class="headerlink" title="改变音频位深 bit depth"></a>改变音频位深 bit depth</h2><p>-sample_fmt</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i input.dsf -map 0:0 -c:0 flac -ar:0 96k -sample_fmt s24 -ac:0 6 -filter:0 aformat=channel_layouts=5.1 output.flac</span><br></pre></td></tr></table></figure>

<h2 id="生成空白音频"><a href="#生成空白音频" class="headerlink" title="生成空白音频"></a>生成空白音频</h2><p>可以使用anullsrc来生成静音音频：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -f lavfi -i anullsrc=r=48000:cl=stereo -t 0.875 /Users/redtux/Movies/converted/silent-audio.aac</span><br></pre></td></tr></table></figure>

<ul>
<li><p>sample_rate, r<br>指定采样率，默认44100。</p>
</li>
<li><p>channel_layout, cl<br>指定通道布局，详见 <code>libavutil/channel_layout.c</code> 中 <code>channel_layout_map</code> 定义，常见<code>mono</code> <code>stereo</code> <code>5.1</code>。</p>
</li>
<li><p>-t<br>文件时长，单位事秒，不指定就一直生成。</p>
</li>
</ul>
<h2 id="截取视频片段"><a href="#截取视频片段" class="headerlink" title="截取视频片段"></a>截取视频片段</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg  -i 源文件名 -vcodec copy -acodec copy -ss 00:00:10 -to 00:00:15 目标文件名 -y</span><br></pre></td></tr></table></figure>

<h2 id="裁剪视频文件的多个部分，并将其合并成一个新的视频"><a href="#裁剪视频文件的多个部分，并将其合并成一个新的视频" class="headerlink" title="裁剪视频文件的多个部分，并将其合并成一个新的视频"></a>裁剪视频文件的多个部分，并将其合并成一个新的视频</h2><p>使用选择滤镜</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i video -vf &quot;select=&#x27;between(t,4,6.5)+between(t,17,26)+between(t,74,91)&#x27;,setpts=N/FRAME_RATE/TB&quot; -af &quot;aselect=&#x27;between(t,4,6.5)+between(t,17,26)+between(t,74,91)&#x27;,asetpts=N/SR/TB&quot; out.mp4</span><br></pre></td></tr></table></figure>

<p>select及其对应的滤波器分别应用于视频和音频，选择的分段是4到6.5秒，17到26秒，最后是74到91秒；时间戳与设置点及其对应的过滤器保持连续。</p>
<h2 id="调整播放速度"><a href="#调整播放速度" class="headerlink" title="调整播放速度"></a>调整播放速度</h2><h3 id="调整视频文件中视频速度："><a href="#调整视频文件中视频速度：" class="headerlink" title="调整视频文件中视频速度："></a>调整视频文件中视频速度：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">//2倍速播放</span><br><span class="line">ffmpeg -i test.mp4 -an -filter:v  &quot;setpts=0.5*PTS&quot;  out_test.mp4</span><br><span class="line"></span><br><span class="line">-i test.mp4是输入文件名</span><br><span class="line"> </span><br><span class="line">-an 将音频禁掉   （可以不加）</span><br><span class="line"> </span><br><span class="line">-filter:v 对视频进行处理</span><br><span class="line"> </span><br><span class="line">&quot;setpts=0.5PTS&quot; 设置时间戳参数PTS为原先的一半，可接受调整范围为[0.25,4]</span><br><span class="line"> </span><br><span class="line">out_test.mp4 输出视频文件</span><br><span class="line"> </span><br><span class="line">还可以在命令中加上指定fps（-r 60），使得不会丢帧</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="调整视频文件中音频速度："><a href="#调整视频文件中音频速度：" class="headerlink" title="调整视频文件中音频速度："></a>调整视频文件中音频速度：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i test.mp4 -filter:a &quot;atempo=2.0&quot; -vn out_test.mp4</span><br><span class="line">-i 后满test.mp4是输入文件名</span><br><span class="line"> </span><br><span class="line">-filter:a 对音频进行处理</span><br><span class="line"> </span><br><span class="line">&quot;atempo=2.0&quot;  设置播放速度是原来的2倍 ，  倍率调整范围[0.5, 2.0]</span><br><span class="line"> </span><br><span class="line">-vn 将视频禁掉   （可以不加）</span><br><span class="line"> </span><br><span class="line">out_test.mp4 输出视频文件</span><br><span class="line"> </span><br><span class="line">需要调整到4倍可以采取以下方法：</span><br><span class="line"> </span><br><span class="line">ffmpeg -i test.mp4 -filter:a &quot;atempo=2.0,atempo=2.0&quot; -vn out_test.mp4</span><br></pre></td></tr></table></figure>

<h3 id="同时调整视频文件的视频、音频："><a href="#同时调整视频文件的视频、音频：" class="headerlink" title="同时调整视频文件的视频、音频："></a>同时调整视频文件的视频、音频：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i test.mp4 -filter_complex &quot;[0:v]setpts=0.5*PTS[v];[0:a]atempo=2.0[a]&quot; -map &quot;[v]&quot; -map &quot;[a]&quot;  out_test.mp4</span><br></pre></td></tr></table></figure>

<p>如果不想丢帧就同时设置 <code>-r</code> ，把帧率设置为原帧率的2倍。</p>
<h2 id="metadata的使用"><a href="#metadata的使用" class="headerlink" title="metadata的使用"></a>metadata的使用</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i /Users/redtux/Movies/Becoming.Jane.2007.1080p.BluRay.x265.2Audio.mp4  -metadata title=&quot;Becoming.Jane.2007.1080p.BluRay.x265.2Audio-RARBG&quot; -map 0:0 -c:0 copy -metadata:s:0 title=&#x27;Becoming.Jane.2007.1080p.BluRay.x265-RARBG&#x27; -metadata:s:0 handler=&#x27;Becoming.Jane.2007.1080p.BluRay.x265-RARBG&#x27; -map 0:1 -c:1 copy -metadata:s:1 title=&quot;国语配音&quot; -metadata:s:1 handler=&quot;国语配音&quot; -metadata:s:1 language=&quot;chi&quot;  -disposition:1 default -map 0:2 -c:2 copy -metadata:s:2 title=&quot;English&quot; -metadata:s:2 handler=&quot;English&quot; -metadata:s:2 language=&quot;eng&quot;  -disposition:2  0 /Users/redtux/Movies/Becoming.Jane.2007.1080p.BluRay.x265.2Audio-RARBG.mp4</span><br></pre></td></tr></table></figure>

<h2 id="ffprobe命令"><a href="#ffprobe命令" class="headerlink" title="ffprobe命令"></a>ffprobe命令</h2><p>ffprobe是ffmpeg中一个查看多媒体文件信息的模块。此模块可以用来查看多媒体文件格式以及编码。ffprobe的命令较多，这里只简单的列举了一些比较常用的命令。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">-L 显示协议</span><br><span class="line">-h/-?/-help/--help topic 帮助可以选择话题</span><br><span class="line">-version 显示版本</span><br><span class="line">-buildconf 展示编译配置选项</span><br><span class="line">-formats 显示支持的编码</span><br><span class="line">-muxers 展示支持的封装器</span><br><span class="line">-demuxers 展示支持的解封装器</span><br><span class="line">-devices 展示支持的设备</span><br><span class="line">-codecs 展示支持的编码</span><br><span class="line">-decoders 显示支持的解码器</span><br><span class="line">-encoders 显示支持的编码器</span><br><span class="line">-bsfs 显示支持的比特流过滤器</span><br><span class="line">-protocols 展示支持的协议</span><br><span class="line">-filters 展示支持的过滤器</span><br><span class="line">-pix_fmts 显示支持的像素格式</span><br><span class="line">-layouts 展示支持的声道格式</span><br><span class="line">-sample_fmts 显示支持的采样格式</span><br><span class="line">-colors 展示支持的颜色名称</span><br><span class="line">-loglevel loglevel 设置日志级别</span><br><span class="line">-v loglevel 设置日志级别</span><br><span class="line">-report 生成报告</span><br><span class="line">-max_alloc bytes 设置单个已分配块的最大大小</span><br><span class="line">-cpuflags flags 指定cpu标志</span><br><span class="line">-hide_banner hide_banner 不显示程序横幅</span><br><span class="line">-sources device 列出源的输出设备</span><br><span class="line">-sinks device 列出输出设备的接收器</span><br><span class="line">-f format 指定格式</span><br><span class="line">-unit 显示显示值的单位</span><br><span class="line">-prefix 对显示的值使用SI前缀</span><br><span class="line">-byte_binary_prefix 对字节单位使用二进制前缀</span><br><span class="line">-sexagesimal 对时间单位使用六十进制格式 HOURS:MM:SS.MICROSECONDS </span><br><span class="line">-pretty 美化显示输出的值，让人可读</span><br><span class="line">-print_format format 设置打印格式 (available formats are: default, compact, csv, flat, ini, json, xml)</span><br><span class="line">-of format -print_format的编码</span><br><span class="line">-select_streams stream_specifier 选择指定的stream</span><br><span class="line">-sections 打印节结构和节信息，然后退出</span><br><span class="line">-show_data 显示数据包信息</span><br><span class="line">-show_data_hash 显示数据包hash值</span><br><span class="line">-show_error 显示探测中的错误</span><br><span class="line">-show_format 显示格式/容器信息</span><br><span class="line">-show_frames 显示帧信息</span><br><span class="line">-show_format_entry entry 显示格式/容器信息中的特定条目</span><br><span class="line">-show_entries entry_list 显示一组指定的项</span><br><span class="line">-show_log 显示log</span><br><span class="line">-show_packets 显示packet信息</span><br><span class="line">-show_programs  显示程序信息</span><br><span class="line">-show_streams 显示stream的信息</span><br><span class="line">-show_chapters 显示chapters的信息</span><br><span class="line">-count_frames 每个stream中的帧数</span><br><span class="line">-count_packets 每个stream中的包数量</span><br><span class="line">-show_program_version ffprobe的版本</span><br><span class="line">-show_library_versions 库的版本</span><br><span class="line">-show_versions 程序和库的版本号</span><br><span class="line">-show_pixel_formats 展示像素格式描述</span><br><span class="line">-show_private_data 显示私有数据</span><br><span class="line">-private 和显示私有数据一样</span><br><span class="line">-bitexact 强制提取bit输出</span><br><span class="line">-read_intervals read_intervals 设置读取间隔</span><br><span class="line">-default 默认所有选项</span><br><span class="line">-i input_file 读取指定文件</span><br><span class="line">-print_filename print_file 重新显示输入的文件名</span><br><span class="line">-find_stream_info 读取并解码流，用启发式方法填充缺失的信息</span><br></pre></td></tr></table></figure>

<p>举个例子说明一下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffprobe -show_format test.mp4 -print_format json</span><br></pre></td></tr></table></figure>

<p>输出为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;format&quot;: &#123;</span><br><span class="line">        &quot;filename&quot;: &quot;test.mp4&quot;,</span><br><span class="line">        &quot;nb_streams&quot;: 2,</span><br><span class="line">        &quot;nb_programs&quot;: 0,</span><br><span class="line">        &quot;format_name&quot;: &quot;mov,mp4,m4a,3gp,3g2,mj2&quot;,</span><br><span class="line">        &quot;format_long_name&quot;: &quot;QuickTime / MOV&quot;,</span><br><span class="line">        &quot;start_time&quot;: &quot;0.000000&quot;,</span><br><span class="line">        &quot;duration&quot;: &quot;319.204000&quot;,</span><br><span class="line">        &quot;size&quot;: &quot;20393093&quot;,</span><br><span class="line">        &quot;bit_rate&quot;: &quot;511098&quot;,</span><br><span class="line">        &quot;probe_score&quot;: 100,</span><br><span class="line">        &quot;tags&quot;: &#123;</span><br><span class="line">            &quot;major_brand&quot;: &quot;isom&quot;,</span><br><span class="line">            &quot;minor_version&quot;: &quot;512&quot;,</span><br><span class="line">            &quot;compatible_brands&quot;: &quot;isomiso2avc1mp41&quot;,</span><br><span class="line">            &quot;artist&quot;: &quot;张国荣&quot;,</span><br><span class="line">            &quot;comment&quot;: &quot;163 key(Don&#x27;t modify):LxuL/bhXK+eaR4o7F6vxHKbEgEKNGLg65XxJgCCH5+sQLLnuMmlonrU27WIYQt6PVE6HRptXEzkJGEUUyqRRgCQJCfXHsb5uK0bdi2lw2dOZM6en1xhkYzGV5bS0uqXI0ZMFdk2CrlfK9x7cKCXIO7AU63YasnAy7YR4dW6boVAOaUvjIWxu5CuHaCLpAF8idLjG4VlAtUpZDj2WEXQJRcZZUFLtJWNVzfbnajHn6j7qG9e0XlNSmOu6RlE/X4MR&quot;,</span><br><span class="line">            &quot;title&quot;: &quot;追 &quot;,</span><br><span class="line">            &quot;encoder&quot;: &quot;Lavf56.4.101&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-08-06T11:53:36.000Z" title="2023/8/6 19:53:36">2023-08-06</time>发表</span><span class="level-item"><time dateTime="2023-11-22T00:44:58.000Z" title="2023/11/22 08:44:58">2023-11-22</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E5%A4%87%E5%BF%98%E5%BD%95/">备忘录</a></span><span class="level-item">6 分钟读完 (大约855个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/08/06/ffmpeg-help2/">ffmpeg的常用选项</a></h1><div class="content"><h2 id="map选项"><a href="#map选项" class="headerlink" title="map选项"></a>map选项</h2><p>默认情况下只在输入文件中的每种流里选择第一个流。</p>
<p>需要指定放入输出文件的流就需要使用-map选项。</p>
<p>用法举例：</p>
<p>-map 0<br> From input index #0 (the 1st input) select all streams.</p>
<p>-map 1:a<br> From input index #1 (the 2nd input) select all audio streams.</p>
<p>-map 3:s:4<br> From input index #3 (the 4th input) select subtitle stream index #4 (the fifth subtitle stream)。</p>
<p>-map 0 -map -0:s<br> Will select all streams from input index #0 (the 1st input) except subtitles. </p>
<h2 id="改变视频帧率"><a href="#改变视频帧率" class="headerlink" title="改变视频帧率"></a>改变视频帧率</h2><p>有两种方法可以改变输出文件的视频流帧率：</p>
<ol>
<li>使用 -r 选项</li>
<li>使用 fps滤镜。</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i [inputfile] -r 30 [output]</span><br><span class="line">ffmpeg -i [inputfiel] -filter:v fps=30 [output]</span><br></pre></td></tr></table></figure>

<p>有两种方法可以改变输出文件的视频流帧率：</p>
<h2 id="改变默认音轨"><a href="#改变默认音轨" class="headerlink" title="改变默认音轨"></a>改变默认音轨</h2><p>使用ffmpeg修改默认的音频轨道，先取消第二音轨的默认值，在设置为第一音轨。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i input.mkv -map 0:0 -map 0:1 -map 0:2  -c copy -disposition:a:1 0 -disposition:a:0 default -y output.mp4</span><br></pre></td></tr></table></figure>
<h2 id="改变音频采样率"><a href="#改变音频采样率" class="headerlink" title="改变音频采样率"></a>改变音频采样率</h2><p>-ar 48k 44.1k 96k</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i input.dsf -map 0:0 -c:0 flac -ar:0 96k output.flac</span><br></pre></td></tr></table></figure>

<h2 id="改变音频通道数量"><a href="#改变音频通道数量" class="headerlink" title="改变音频通道数量"></a>改变音频通道数量</h2><p>-ac </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i input.dsf -map 0:0 -c:0 flac -ar:0 96k -ac:0 2 -filter:0 aformat=channel_layouts=stereo output.flac</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i input.dsf -map 0:0 -c:0 flac -ar:0 96k -ac:0 6 -filter:0 aformat=channel_layouts=5.1 output.flac</span><br></pre></td></tr></table></figure>

<h2 id="改变音频位深-bit-depth"><a href="#改变音频位深-bit-depth" class="headerlink" title="改变音频位深 bit depth"></a>改变音频位深 bit depth</h2><p>-sample_fmt</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i input.dsf -map 0:0 -c:0 flac -ar:0 96k -sample_fmt s24 -ac:0 6 -filter:0 aformat=channel_layouts=5.1 output.flac</span><br></pre></td></tr></table></figure>

<h2 id="生成空白音频"><a href="#生成空白音频" class="headerlink" title="生成空白音频"></a>生成空白音频</h2><p>可以使用anullsrc来生成静音音频：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -f lavfi -i anullsrc=r=48000:cl=stereo -t 0.875 /Users/redtux/Movies/converted/silent-audio.aac</span><br></pre></td></tr></table></figure>

<ul>
<li><p>sample_rate, r<br>指定采样率，默认44100。</p>
</li>
<li><p>channel_layout, cl<br>指定通道布局，详见 <code>libavutil/channel_layout.c</code> 中 <code>channel_layout_map</code> 定义，常见<code>mono</code> <code>stereo</code> <code>5.1</code>。</p>
</li>
<li><p>-t<br>文件时长，单位事秒，不指定就一直生成。</p>
</li>
</ul>
<h2 id="截取视频片段"><a href="#截取视频片段" class="headerlink" title="截取视频片段"></a>截取视频片段</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg  -i 源文件名 -vcodec copy -acodec copy -ss 00:00:10 -to 00:00:15 目标文件名 -y</span><br></pre></td></tr></table></figure>

<p>裁剪视频文件的多个部分，并将其合并成一个新的视频</p>
<h2 id="调整播放速度"><a href="#调整播放速度" class="headerlink" title="调整播放速度"></a>调整播放速度</h2><h3 id="调整视频文件中视频速度："><a href="#调整视频文件中视频速度：" class="headerlink" title="调整视频文件中视频速度："></a>调整视频文件中视频速度：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">//2倍速播放</span><br><span class="line">ffmpeg -i test.mp4 -an -filter:v  &quot;setpts=0.5*PTS&quot;  out_test.mp4</span><br><span class="line"></span><br><span class="line">-i test.mp4是输入文件名</span><br><span class="line"> </span><br><span class="line">-an 将音频禁掉   （可以不加）</span><br><span class="line"> </span><br><span class="line">-filter:v 对视频进行处理</span><br><span class="line"> </span><br><span class="line">&quot;setpts=0.5PTS&quot; 设置时间戳参数PTS为原先的一半，可接受调整范围为[0.25,4]</span><br><span class="line"> </span><br><span class="line">out_test.mp4 输出视频文件</span><br><span class="line"> </span><br><span class="line">还可以在命令中加上指定fps（-r 60），使得不会丢帧</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="调整视频文件中音频速度："><a href="#调整视频文件中音频速度：" class="headerlink" title="调整视频文件中音频速度："></a>调整视频文件中音频速度：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i test.mp4 -filter:a &quot;atempo=2.0&quot; -vn out_test.mp4</span><br><span class="line">-i 后满test.mp4是输入文件名</span><br><span class="line"> </span><br><span class="line">-filter:a 对音频进行处理</span><br><span class="line"> </span><br><span class="line">&quot;atempo=2.0&quot;  设置播放速度是原来的2倍 ，  倍率调整范围[0.5, 2.0]</span><br><span class="line"> </span><br><span class="line">-vn 将视频禁掉   （可以不加）</span><br><span class="line"> </span><br><span class="line">out_test.mp4 输出视频文件</span><br><span class="line"> </span><br><span class="line">需要调整到4倍可以采取以下方法：</span><br><span class="line"> </span><br><span class="line">ffmpeg -i test.mp4 -filter:a &quot;atempo=2.0,atempo=2.0&quot; -vn out_test.mp4</span><br></pre></td></tr></table></figure>

<h3 id="同时调整视频文件的视频、音频："><a href="#同时调整视频文件的视频、音频：" class="headerlink" title="同时调整视频文件的视频、音频："></a>同时调整视频文件的视频、音频：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i test.mp4 -filter_complex &quot;[0:v]setpts=0.5*PTS[v];[0:a]atempo=2.0[a]&quot; -map &quot;[v]&quot; -map &quot;[a]&quot;  out_test.mp4</span><br></pre></td></tr></table></figure>

<p>如果不想丢帧就同时设置 <code>-r</code> ，把帧率设置为原帧率的2倍。</p>
<h2 id="metadata的使用"><a href="#metadata的使用" class="headerlink" title="metadata的使用"></a>metadata的使用</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i /Users/redtux/Movies/Becoming.Jane.2007.1080p.BluRay.x265.2Audio.mp4  -metadata title=&quot;Becoming.Jane.2007.1080p.BluRay.x265.2Audio-RARBG&quot; -map 0:0 -c:0 copy -metadata:s:0 title=&#x27;Becoming.Jane.2007.1080p.BluRay.x265-RARBG&#x27; -metadata:s:0 handler=&#x27;Becoming.Jane.2007.1080p.BluRay.x265-RARBG&#x27; -map 0:1 -c:1 copy -metadata:s:1 title=&quot;国语配音&quot; -metadata:s:1 handler=&quot;国语配音&quot; -metadata:s:1 language=&quot;chi&quot;  -disposition:1 default -map 0:2 -c:2 copy -metadata:s:2 title=&quot;English&quot; -metadata:s:2 handler=&quot;English&quot; -metadata:s:2 language=&quot;eng&quot;  -disposition:2  0 /Users/redtux/Movies/Becoming.Jane.2007.1080p.BluRay.x265.2Audio-RARBG.mp4</span><br></pre></td></tr></table></figure>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-08-02T12:23:25.000Z" title="2023/8/2 20:23:25">2023-08-02</time>发表</span><span class="level-item"><time dateTime="2023-08-02T12:32:35.000Z" title="2023/8/2 20:32:35">2023-08-02</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E5%A4%87%E5%BF%98%E5%BD%95/">备忘录</a></span><span class="level-item">1 分钟读完 (大约221个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/08/02/xcode-command-line-tools/">Xcode命令行工具Command Line Tools</a></h1><div class="content"><p>一般Xcode安装后，第一次打开时，会弹窗提示安装Command Line Tools，直接安装即可。</p>
<p>如果当时没有安装，后面也可以单独安装。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xcode-select --install	// 安装命令</span><br><span class="line"></span><br><span class="line">xcode-select --version	// 查看版本</span><br></pre></td></tr></table></figure>

<p>有时Command Line Tools出了问题，可以先尝试恢复默认设置来解决：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 恢复默认设置（需要sudo权限）</span><br><span class="line">sudo xcode-select --reset</span><br></pre></td></tr></table></figure>

<p>还是解决不了，可以考虑删掉后重新安装：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 强制删除安装目录下的文件</span><br><span class="line">sudo rm -rf /Library/Developer/CommandLineTools</span><br><span class="line"></span><br><span class="line">// 重新安装</span><br><span class="line">xcode-select --install</span><br></pre></td></tr></table></figure>

<p>除了终端命令的安装方式，也可以到<a target="_blank" rel="noopener" href="https://developer.apple.com/download/more/">苹果开发者官网的下载专区</a>搜索Command Line Tools并下载安装包。你也可以去<a target="_blank" rel="noopener" href="https://xcodereleases.com/">xcodereleases</a>网站找到各种版本Xcode的下载链接。</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-08-10T12:46:25.000Z" title="2022/8/10 20:46:25">2022-08-10</time>发表</span><span class="level-item"><time dateTime="2023-09-20T14:30:38.527Z" title="2023/9/20 22:30:38">2023-09-20</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E5%A4%87%E5%BF%98%E5%BD%95/">备忘录</a></span><span class="level-item">13 分钟读完 (大约1877个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/08/10/macOS-helper/">macOS系统使用技巧</a></h1><div class="content"><h2 id="1-tree命令"><a href="#1-tree命令" class="headerlink" title="1.tree命令"></a>1.tree命令</h2><h3 id="自定义"><a href="#自定义" class="headerlink" title="自定义"></a>自定义</h3><p>mac下默认是没有 tree命令的，不过我们可以使用find命令模拟出tree命令的效果，如显示当前目录的 tree 的命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ find . -print | sed -e &#x27;s;[^/]*/;|____;g;s;____|; |;g&#x27;</span><br></pre></td></tr></table></figure>

<p>当然你也可以写一个别名来快速执行该命令，运行如下命令，将上面这个命令写到~&#x2F;.bash_profile里，以后直接运行tree命令就更方便了:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alias tree=&quot;find . -print | sed -e &#x27;s;[^/]*/;|____;g;s;____|; |;g&#x27;&quot;</span><br></pre></td></tr></table></figure>

<h3 id="安装tree命令行工具"><a href="#安装tree命令行工具" class="headerlink" title="安装tree命令行工具"></a>安装tree命令行工具</h3><p>也可以使用 homebrew 安装 tree 命令行：<code>brew install tree</code></p>
<p>这样就在你的mac上安装了 tree 命令行了。</p>
<p>tree命令行参数（只实用与安装了tree命令行工具）：</p>
<ul>
<li>-a 显示所有文件和目录。</li>
<li>-A 使用ASNI绘图字符显示树状图而非以ASCII字符组合。</li>
<li>-C 在文件和目录清单加上色彩，便于区分各种类型。</li>
<li>-d 显示目录名称而非内容。</li>
<li>-D 列出文件或目录的更改时间。</li>
<li>-f 在每个文件或目录之前，显示完整的相对路径名称。</li>
<li>-F 在执行文件，目录，Socket，符号连接，管道名称名称，各自加上”*”,”&#x2F;“,”&#x3D;”,”@”,”|”号。</li>
<li>-g 列出文件或目录的所属群组名称，没有对应的名称时，则显示群组识别码。</li>
<li>-i 不以阶梯状列出文件或目录名称。</li>
<li>-I 不显示符合范本样式的文件或目录名称。</li>
<li>-l 如遇到性质为符号连接的目录，直接列出该连接所指向的原始目录。</li>
<li>-n 不在文件和目录清单加上色彩。</li>
<li>-N 直接列出文件和目录名称，包括控制字符。</li>
<li>-p 列出权限标示。</li>
<li>-P 只显示符合范本样式的文件或目录名称。</li>
<li>-q 用”?”号取代控制字符，列出文件和目录名称。</li>
<li>-s 列出文件或目录大小。</li>
<li>-t 用文件和目录的更改时间排序。</li>
<li>-u 列出文件或目录的拥有者名称，没有对应的名称时，则显示用户识别码。</li>
<li>-x 将范围局限在现行的文件系统中，若指定目录下的某些子目录，其存放于另一个文件系统上，则将该子目录予以排除在寻找范围外。</li>
</ul>
<h2 id="2-改变APP图标"><a href="#2-改变APP图标" class="headerlink" title="2.改变APP图标"></a>2.改变APP图标</h2><p>最近发现有些APP图标实在是难看，忍不住想换个标，就在网上查了下资料，MacOS系统提供了生成icns的命令，我们需要准备一张png的图，这张图最小要1024*1024的分辨率。</p>
<h3 id="制作步骤："><a href="#制作步骤：" class="headerlink" title="制作步骤："></a>制作步骤：</h3><ol>
<li><p>找图<br>找一张分辨率1024*1024的png图片</p>
</li>
<li><p>建图片集目录<br>打开终端输入以下命令：<br><code>mkdir xxx. iconset</code><br>注意：必须以.iconset后缀结尾</p>
</li>
<li><p>转换图片<br>把原图片转为不同大小的图片，并放入上面的创建的目录中<br>sips -z 16 16     pic.png –out xxx.iconset&#x2F;icon_16x16.png<br>sips -z 32 32     pic.png –out xxx.iconset&#x2F;<a href="mailto:&#x69;&#x63;&#x6f;&#110;&#x5f;&#x31;&#54;&#120;&#49;&#x36;&#64;&#50;&#120;&#46;&#x70;&#110;&#103;">&#x69;&#x63;&#x6f;&#110;&#x5f;&#x31;&#54;&#120;&#49;&#x36;&#64;&#50;&#120;&#46;&#x70;&#110;&#103;</a><br>sips -z 32 32     pic.png –out xxx.iconset&#x2F;icon_32x32.png<br>sips -z 64 64     pic.png –out xxx.iconset&#x2F;<a href="mailto:&#105;&#99;&#x6f;&#110;&#95;&#x33;&#x32;&#x78;&#x33;&#50;&#64;&#x32;&#120;&#46;&#x70;&#110;&#x67;">&#105;&#99;&#x6f;&#110;&#95;&#x33;&#x32;&#x78;&#x33;&#50;&#64;&#x32;&#120;&#46;&#x70;&#110;&#x67;</a><br>sips -z 128 128   pic.png –out xxx.iconset&#x2F;icon_128x128.png<br>sips -z 256 256   pic.png –out xxx.iconset&#x2F;<a href="mailto:&#105;&#x63;&#111;&#x6e;&#95;&#x31;&#50;&#56;&#120;&#49;&#x32;&#56;&#x40;&#50;&#x78;&#46;&#112;&#110;&#103;">&#105;&#x63;&#111;&#x6e;&#95;&#x31;&#50;&#56;&#120;&#49;&#x32;&#56;&#x40;&#50;&#x78;&#46;&#112;&#110;&#103;</a><br>sips -z 256 256   pic.png –out xxx.iconset&#x2F;icon_256x256.png<br>sips -z 512 512   pic.png –out xxx.iconset&#x2F;<a href="mailto:&#105;&#x63;&#x6f;&#110;&#95;&#50;&#53;&#x36;&#x78;&#50;&#53;&#x36;&#64;&#x32;&#x78;&#x2e;&#x70;&#110;&#103;">&#105;&#x63;&#x6f;&#110;&#95;&#50;&#53;&#x36;&#x78;&#50;&#53;&#x36;&#64;&#x32;&#x78;&#x2e;&#x70;&#110;&#103;</a><br>sips -z 512 512   pic.png –out xxx.iconset&#x2F;icon_512x512.png<br>sips -z 1024 1024   pic.png –out xxx.iconset&#x2F;<a href="mailto:&#105;&#99;&#111;&#x6e;&#95;&#x35;&#x31;&#x32;&#x78;&#x35;&#49;&#x32;&#64;&#x32;&#120;&#x2e;&#x70;&#x6e;&#103;">&#105;&#99;&#111;&#x6e;&#95;&#x35;&#x31;&#x32;&#x78;&#x35;&#49;&#x32;&#64;&#x32;&#120;&#x2e;&#x70;&#x6e;&#103;</a><br>@2x 的是为retina屏准备的，以上命令执行完后去目录里看下图片是否生成好了</p>
</li>
<li><p>生成图标<br>这一步就是制作icns的最后一步了<br>在命令行中输入一下命令<br>iconutil -c icns xxx.iconset -o xxx.icns<br>这时，目录中就会出现你要的icns图标文件了</p>
</li>
<li><p>替换图标<br>在应用程序中找到想要替换的APP，右键，显示简介，然后把刚才的icns文件拖到简介里就可以了，替换完了之后需要把APP退出后才能看到新的图标。</p>
</li>
</ol>
<h3 id="批量制作"><a href="#批量制作" class="headerlink" title="批量制作"></a>批量制作</h3><p>可以把制作过程写成一个shell文件，保存成.sh文件，这样就可以批量生成不同大小的图片并执行iconutil命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line">if [ x&quot;$1&quot; = x ]; then</span><br><span class="line">    echo &quot;\033[31m 请输入要转换的图片全名(PNG格式的图片) \033[0m&quot;</span><br><span class="line">    exit</span><br><span class="line">fi</span><br><span class="line">echo $1</span><br><span class="line">newstr=$(tr &#x27;[A-Z]&#x27; &#x27;[a-z]&#x27; &lt;&lt;&lt;&quot;$1&quot;)</span><br><span class="line">if [[ $newstr != *.png ]]; then</span><br><span class="line">    echo &quot;\033[31m 图片不是png格式 \033[0m&quot;</span><br><span class="line">    exit</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [ x&quot;$2&quot; = x ]; then</span><br><span class="line">    echo &quot;\033[31m 请输入iconset目录(命名方式xxx.iconset, 务必以 .iconset 结尾) \033[0m&quot;</span><br><span class="line">    exit</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [[ $2 != *.iconset ]]; then</span><br><span class="line">    echo &quot;\033[31m iconset目录命令不规范 \033[0m&quot;</span><br><span class="line">    exit</span><br><span class="line">fi</span><br><span class="line"># 生成的图片名</span><br><span class="line">name_array=(&quot;icon_16x16.png&quot; &quot;icon_16x16@2x.png&quot; &quot;icon_32x32.png&quot; &quot;icon_32x32@2x.png&quot; &quot;icon_128x128.png&quot; &quot;icon_128x128@2x.png&quot; &quot;icon_256x256.png&quot; &quot;icon_256x256@2x.png&quot; &quot;icon_512x512.png&quot; &quot;icon_512x512@2x.png&quot;)</span><br><span class="line">#尺寸</span><br><span class="line">size_array=(&quot;16&quot; &quot;32&quot; &quot;32&quot; &quot;64&quot; &quot;128&quot; &quot;256&quot; &quot;256&quot; &quot;512&quot; &quot;512&quot; &quot;1024&quot;)</span><br><span class="line"></span><br><span class="line"># 创建 iconset 目录</span><br><span class="line">if [ ! -d $2 ]; then</span><br><span class="line">    mkdir $2</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">for ((i = 0; i &lt; $&#123;#name_array[@]&#125;; ++i)); do</span><br><span class="line">    m_dir=$2/$&#123;name_array[i]&#125;</span><br><span class="line">    sips -z $&#123;size_array[i]&#125; $&#123;size_array[i]&#125; $1 --out $m_dir</span><br><span class="line">done</span><br><span class="line"># 生成icns 命令</span><br><span class="line">iconutil -c icns $2 -o $&#123;2%*&quot;.iconset&quot;&#125;.icns</span><br><span class="line"># 生成完之后删除 iconset 文件夹</span><br><span class="line">rm -rf $2;</span><br></pre></td></tr></table></figure>

<h3 id="图标下载"><a href="#图标下载" class="headerlink" title="图标下载"></a>图标下载</h3><p>当然，你也可以去下载现成的 <a target="_blank" rel="noopener" href="https://links.jianshu.com/go?to=https://macosicons.com/">macOS Big Sur - Replacements Icons</a></p>
<h3 id="图标还原"><a href="#图标还原" class="headerlink" title="图标还原"></a>图标还原</h3><p>如果想恢复成默认图标，只需要在对应的APP图标上“右键”&gt;“显示简介”，然后选中左上角的图标，按delete键就好了</p>
<h2 id="3-关于-DS-Store-文件"><a href="#3-关于-DS-Store-文件" class="headerlink" title="3 关于.DS_Store 文件"></a>3 关于.DS_Store 文件</h2><h3 id="阻止-DS-Store-文件的自动生成"><a href="#阻止-DS-Store-文件的自动生成" class="headerlink" title="阻止 DS_Store 文件的自动生成"></a>阻止 DS_Store 文件的自动生成</h3><p>DS_Store 文件是由系统自动创建的，它的存在有时候会对某些场景下的用户体验产生一些负面的影响。</p>
<p>为了加快网络磁盘的浏览速度，苹果提供了针对通过SMB共享的网络磁盘上DS_Store文件的阻止生成方案：</p>
<ol>
<li><p>在「访达」中打开「应用程序」 &gt; 「实用工具」 &gt; 「终端」。</p>
</li>
<li><p>输入以下命令：</p>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">defaults write com.apple.desktopservices DSDontWriteNetworkStores -bool TRUE</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>然后退出登录 macOS 账户并重新登录。</li>
</ol>
<p>要重新启用，请输入以下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">defaults write com.apple.desktopservices DSDontWriteNetworkStores -bool FALSE</span><br></pre></td></tr></table></figure>

<p>但是，以上命令只是针对网络磁盘，想要阻止本地磁盘中 DS_Store 文件的自动生成？</p>
<p>唯一的方式就是停止使用「访达」，不过我想大家应该不会考虑这么做。</p>
<h3 id="如何删除-DS-Store-文件"><a href="#如何删除-DS-Store-文件" class="headerlink" title="如何删除 DS_Store 文件"></a>如何删除 DS_Store 文件</h3><p>首先，要声明的一点是，删除 DS_Store 文件完全是安全的操作，它不会损害电脑，也不会造成个人数据丢失。删除后，「访达」在打开文件夹是会以默认显示模式显示文件夹。在你进行某些「访达」操作后，系统又会在后台自动创建 DS_Store 文件。</p>
<p>如果你想删除 DS_Store 文件，可以通过「终端」App 进行删除。</p>
<ol>
<li>在「访达」中打开「应用程序」&gt; 「实用工具」 &gt; 「终端」。</li>
<li>定位到你要删除 .DS_Store 文件的文件夹目录下。</li>
<li>在「终端」里输入<code>cd</code>命令，跟上你的目录文件夹路径，例如： <code>cd /Users/username/pictures</code>。</li>
<li>回车。</li>
<li>输入命令 <code>find . -name &#39;.DS_Store&#39; -type f -delete</code>。</li>
<li>再次回车。</li>
</ol>
<p>到这里，当前文件夹目录下的所有 .DS_Store 文件都会消失。</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-02-10T04:05:03.000Z" title="2018/2/10 12:05:03">2018-02-10</time>发表</span><span class="level-item"><time dateTime="2022-08-11T09:45:14.000Z" title="2022/8/11 17:45:14">2022-08-11</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E5%A4%87%E5%BF%98%E5%BD%95/">备忘录</a></span><span class="level-item">12 分钟读完 (大约1770个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/02/10/skills-password/">让你的各种网络密码无法被人破解</a></h1><div class="content"><h2 id="让你的各种网络密码无法被人破解"><a href="#让你的各种网络密码无法被人破解" class="headerlink" title="让你的各种网络密码无法被人破解"></a>让你的各种网络密码无法被人破解</h2><p>互联网产品各种各样，我们也就拥有了各种各样的帐号密码。网银密码，网站密码等等，大家一般化为了好记，都设置同一个密码，或者很简单的密码。这样就造成自己的帐号被黑客窃取。密码要想不被黑客猜中，有几点非常重要的注意事项</p>
<p>1、不要靠字典中的单词：如果你的密码可以在单词书中找到，那就和没有一样。黑客们经常借助词典以及词汇的变体测试密码.如果你不属于这一类，他们通常就会放弃。</p>
<p>2、一个密码绝对不要使用两次：人们喜欢在不同的网站使用同一密码，这可让黑客有了可乘之机。如果你的LinkedIn账户遭泄露，可能没什么损失;但他们会利用该密码尝试你的电子邮箱、银行账户等一切存储资产及重要个人数据的地方。</p>
<p>3、设置密码短语。密码越长，破解的时间也越长。如果不想让黑客在24小时内能破解你的密码，密码长度应该超过14个字符。因为长密码难于记忆，可考虑用喜欢的电影台词、歌词或一首诗的首字母拼接在一起。</p>
<p>4、胡乱敲击键盘：对于敏感的账户，格罗斯曼先生建议随机乱敲键盘，并间或敲击Shift和Alt键，然后将结果复制到一个文本，存入一个有密码保护的U盘。</p>
<p>5、安全存储你的密码。不要将密码放在收件箱或桌面。如果恶意软件感染电脑，你就完蛋了。格罗斯曼先生将密码文件存入加密U盘，使用帐户时，他把这些密码复制粘贴过去。即便黑客利用键盘记录软件，同样无法捕捉到他的密码。科克先生则把密码提示保存一张纸上，把敏感的信息和互联网彻底隔离。</p>
<p>6、不要依赖密码管理器。密码保护软件可使用户将所有用户名和密码存储在同一区域。有些程序还能为你创建强大的密码，只要你输入主密码，就能帮你自动登录网站。如LastPass、SplashData和AgileBits等等。科克先生认为，即使加密后，密码仍然留在计算机里。如果电脑遭到盗窃，等于丢失所有密码。而且密码管理器不一定靠谱，今年初在阿姆斯特丹举行的安全会议上，黑客们就演示了破解手机密码管理器的技术。</p>
<p>7、安全问题最好答非所问。网站的验证问题经常问道“你最喜欢什么颜色?”“你在哪所中学就读?”，这些问题的答案局限性太大，很容易在互联网上找到。今年初，一名黑客利用米特？罗姆尼(Mitt Romney)最喜欢的宠物的名字破解其Hotmail和Dropbox帐户。比较安全的做法是密码提示和问题无关。如果安全问题问出生医院的名称，你的回答可以是最喜欢的歌词。</p>
<p>8、使用不同的浏览器。不同的网络活动要用不同的浏览器。选择一个浏览器做乱七八糟的事情，如浏览网上论坛、新闻网站、博客等不重要的事情。第二个浏览器用于登录网上银行或收发电子邮件。这样浏览器被攻击后，银行帐户就不一定会泄露。Accuvant Labs去年研究发现，在其所调查的火狐、谷歌Chrome及微软Internet Explorer浏览器中，Chrome最安全。</p>
<p>9、别乱分享你的信息。不要经常利用真实的E-mail地址注册网上帐户。很多“一次性”e-mail地址是最佳选择，如10minutemail.com提供的地址，用户注册、确认在线账户后，这些电子邮件地址会自我销毁。</p>
<p>10、输入任何密码之前一定要搞清楚你当前访问的地址是你想要访问的地址，特别是现在的应用总喜欢用内置的浏览器打开网址，像微信、各个邮箱客户端，打开的网站并不会显示url地址，这样很容易就会碰到李鬼而没有发现。博主最近邮件收到一封自称是纪委的调查邮件，附件是一张二维码，扫码后转到到网易邮箱登录界面，因为是微信打开的网址，所以没有显示地址，用浏览器打开后发现是李鬼，随便用一个账号密码登录之后显示密码错误，然后就转跳到李逵哪里去了。</p>
<p><img src="/images/20220811171749.webp" alt="地址访问截图" title="地址访问截图"></p>
<p>最后分享一下我的密码设置规则：</p>
<p>我的网络账户被分为3个等级：</p>
<p>1 普通账户，用在一些普通论坛上，比如某一天搜到一个需要的文件在一个论坛里，但是必须注册账户才能下载，这时候就可以用普通账户，可以选择一个统一的账户名和密码，我的用户名就是redtux，密码是好多年前在一个网站上看到的一句话的首字母缩写。用户名要选择一个不容易重复的，我的这个组合用了10多年了，很多时候在一个网站注册的时候发现用户名已经注册了，我就用我的固定账户密码登录就可以进去了。</p>
<p>2 知名一点的账户，QQ，微信，百度，网易之类，用普通账户的密码跟对应网站的名字组合，比如网易密码可以是 普通密码@WangYi，你只要记住一个固定的组合规则，登录的时候就自动能生成密码。</p>
<p>3 涉及财产安全的，银行类，支付宝类的，方法同2，但是生成规则更复杂一点，比如可以加入更多的特殊符号。</p>
<p>这样子就只要记住一个密码和2种规则，就能保证所有账户的密码都不一样，如果其中一个网站被暴库也能保证其他网站的账号安全。</p>
</div></article></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.png" alt="胡乱折腾"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">胡乱折腾</p><p class="is-size-6 is-block">生命不息，折腾不止！</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>China</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">26</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">3</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">9</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/tux0529" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/tux0529"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Qt/"><span class="level-start"><span class="level-item">Qt</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/Ubuntu2Nas/"><span class="level-start"><span class="level-item">Ubuntu2Nas</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%A4%87%E5%BF%98%E5%BD%95/"><span class="level-start"><span class="level-item">备忘录</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-11-22T13:08:36.000Z">2023-11-22</time></p><p class="title"><a href="/2023/11/22/sublime-text-setting/">Sublime text 4的设置</a></p><p class="categories"><a href="/categories/%E5%A4%87%E5%BF%98%E5%BD%95/">备忘录</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-08-18T08:46:25.000Z">2023-08-18</time></p><p class="title"><a href="/2023/08/18/ubuntu-server/">Ubuntu Server 常用管理</a></p><p class="categories"><a href="/categories/%E5%A4%87%E5%BF%98%E5%BD%95/">备忘录</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-08-15T08:30:00.000Z">2023-08-15</time></p><p class="title"><a href="/2023/08/15/Nas/nextcloud/">自建Nextcloud私有云盘</a></p><p class="categories"><a href="/categories/Ubuntu2Nas/">Ubuntu2Nas</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-08-14T04:10:00.000Z">2023-08-14</time></p><p class="title"><a href="/2023/08/14/windows-office-kms/">Microsoft Office及Windows的KMS激活步骤</a></p><p class="categories"><a href="/categories/%E5%A4%87%E5%BF%98%E5%BD%95/">备忘录</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-08-06T14:23:36.000Z">2023-08-06</time></p><p class="title"><a href="/2023/08/06/Qt/qt-pop-dialog/">Qt实现弹出窗口，点击其他位置消失</a></p><p class="categories"><a href="/categories/Qt/">Qt</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2023/11/"><span class="level-start"><span class="level-item">十一月 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/08/"><span class="level-start"><span class="level-item">八月 2023</span></span><span class="level-end"><span class="level-item tag">21</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/08/"><span class="level-start"><span class="level-item">八月 2022</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/02/"><span class="level-start"><span class="level-item">二月 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Nas%E5%B7%A5%E5%85%B7/"><span class="tag">Nas工具</span><span class="tag">12</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Qt/"><span class="tag">Qt</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Skills/"><span class="tag">Skills</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/VM/"><span class="tag">VM</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ffmpeg/"><span class="tag">ffmpeg</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/kms%E6%BF%80%E6%B4%BB/"><span class="tag">kms激活</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/macOS/"><span class="tag">macOS</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/sublime/"><span class="tag">sublime</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/web/"><span class="tag">web</span><span class="tag">1</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="胡乱折腾" height="28"></a><p class="is-size-7"><span>&copy; 2023 redtux</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>